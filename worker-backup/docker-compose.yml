version: "3.8"

services:
  worker-backup:
    build: .
    container_name: mongo_backup_worker
    environment:
      MONGO_HOST: "mongodb-test" 
      MONGO_PORT: "27017"
      MONGO_USER: "test"
      MONGO_PASSWORD: "test"
      MONGO_DB: "test-latency-configuration"
      BACKUP_DIR: "/backups"
      ZIP_PASSWORD: "senha123"
      GCP_BUCKET_NAME: "backup-mongo-58ba42be"
      GOOGLE_APPLICATION_CREDENTIALS: "/app/service-account.json"
    volumes:
      - ./backups:/backups
    networks:
      - test-latency-configuration_mongo-db-network 
    restart: always

networks:
  test-latency-configuration_mongo-db-network :
    external: true  
